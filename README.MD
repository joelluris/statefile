# Statefile - Terraform State Validation Project

Enterprise-grade Terraform infrastructure for Azure with state file validation and multi-environment support.

## ğŸ“ Project Structure

```
statefile-validate/
â”œâ”€â”€ .azuredevops/
â”‚   â”œâ”€â”€ pipelines/
â”‚   â”‚   â””â”€â”€ terraform-pipeline.yml
â”‚   â””â”€â”€ templates/
â”‚       â”œâ”€â”€ terraform-init.yml
â”‚       â”œâ”€â”€ terraform-plan.yml
â”‚       â””â”€â”€ terraform-apply.yml
â”œâ”€â”€ terraform/
â”‚   â”œâ”€â”€ modules/
â”‚   â”‚   â”œâ”€â”€ acr/              # Azure Container Registry
â”‚   â”‚   â”œâ”€â”€ aks/              # Azure Kubernetes Service
â”‚   â”‚   â”œâ”€â”€ network/          # Virtual Networks
â”‚   â”‚   â”œâ”€â”€ storage/          # Storage Accounts
â”‚   â”‚   â””â”€â”€ ... (other modules)
â”‚   â”œâ”€â”€ environments/
â”‚   â”‚   â””â”€â”€ int.tfvars        # Integration environment
â”‚   â”œâ”€â”€ main.tf
â”‚   â”œâ”€â”€ variables.tf
â”‚   â”œâ”€â”€ providers.tf
â”‚   â””â”€â”€ outputs.tf
â”œâ”€â”€ .gitignore
â””â”€â”€ README.MD
```

## ğŸš€ Getting Started

### Prerequisites

- [Terraform](https://www.terraform.io/downloads.html) >= 1.0
- [Azure CLI](https://docs.microsoft.com/en-us/cli/azure/install-azure-cli)
- Azure subscription with appropriate permissions

### Local Development

```bash
# Login to Azure
az login

# Initialize Terraform
cd terraform
terraform init -backend-config=backend.tfvars

# Plan changes
terraform plan -var-file="environments/int.tfvars"

# Apply infrastructure
terraform apply -var-file="environments/int.tfvars"
```

## ğŸ”„ CI/CD Pipeline

This project uses Azure DevOps pipelines for automated deployments across environments.

### Pipeline Stages
1. **Validation** - Terraform format and validate
2. **Plan** - Generate execution plan
3. **Apply** - Deploy infrastructure (with approvals)

## ğŸ” Security

- State files are stored in Azure Storage with encryption
- Sensitive variables are managed through Azure Key Vault
- Backend configuration files are excluded from version control

## ğŸ“š Resources

- [Terraform Azure Provider](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs)
- [Azure Verified Modules](https://aka.ms/avm)

## ğŸ‘¥ Author

Joel Luris
